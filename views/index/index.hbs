<div class="wrapper wrapper-content">
    <div class="row">
        <div class="col-lg-12">
            <div class="ibox float-e-margins">
                <div class="ibox-title">
                    <h5>매장별 고객 이용 분석 </h5>
                </div>
                <div class="ibox-content">
                    <div class="row">
                        <div class="col-sm-12 m-b-xs">
                            <div data-toggle="buttons" class="btn-group">
                                <label class="btn btn-lg btn-white"> <input type="radio" id="today" name="options" onchange="fnSearch('TO')"> 오늘 </label>
                                <label class="btn btn-lg btn-white"> <input type="radio" id="thisWeek" name="options" onchange="fnSearch('TW')"> 이번주 </label>
                                <label class="btn btn-lg btn-white"> <input type="radio" id="lastWeek" name="options" onchange="fnSearch('LW')"> 지난주 </label>
                                <label class="btn btn-lg btn-white"> <input type="radio" id="thisMonth" name="options" onchange="fnSearch('TM')"> 이번달 </label>
                                <label class="btn btn-lg btn-white"> <input type="radio" id="lastMonth" name="options" onchange="fnSearch('LM')"> 지난달 </label>
                                <label class="btn btn-lg btn-white"> <input type="radio" id="all" name="options" onchange="fnSearch('AL')"> 전체 </label>
                            </div>
                        </div>

                    </div>
                    <div class="row">
                        {{#ifeq dateType 'AL'}}
                            <div class="col-sm-12">
                                <div><h3><span class="text-success">[ 전체 매장별 고객 이용 데이터 ]</span></h3></div>
                            </div>
                        {{else}}
                            <div class="col-sm-12">
                                <div class="text-left"><h2><span class="text-success font-bold">[ {{startDate}} ~ {{endDate}} ]</span></h2></div>
                            </div>
                        {{/ifeq}}
                    </div>
                    <div class="table-responsive">
                        <table class="table table-bordered">
                            <thead>
                            <tr style="text-align: center">
                                <th>매장명</th>
<!--                                <th>적립타입</th>-->
                                <th>적립수 </th>
                                <th>적립횟수</th>
                                <th>신규고객</th>
                                <th>적립쿠폰발급</th>
                                <th>적립쿠폰사용</th>
                                <th>이벤트쿠폰발급</th>
                                <th>이벤트쿠폰사용</th>
                            </tr>
                            </thead>
                            <tbody>
                            {{#each stores}}
                            <tr style="text-align: center">
                                <td style="font-weight: bold">{{this.store_full_name}}</td>
                                {{#ifeq this.saving_type 'S'}}
<!--                                    <td >도장(스탬프)</td>-->
                                    <td>{{this.savingCnt}} 개</td>
                                {{else}}
<!--                                    <td>포인트</td>-->
                                    <td>{{this.savingCnt}} 포인트</td>
                                {{/ifeq}}
                                <td>{{this.savingHistoryCnt}} 회</td>
                                <td>{{this.newMembershipCnt}}명</td>
                                <td>{{this.savingCouponCnt}} 개</td>
                                <td>{{this.savingCouponUseCnt}} 개</td>
                                <td>{{this.eventCouponCnt}} 개</td>
                                <td>{{this.eventCouponUseCnt}} 개</td>
                            </tr>
                            {{/each}}
                            </tbody>
                        </table>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>

<!-- Flot -->
<script src="../js/plugins/flot/jquery.flot.js"></script>
<script src="../js/plugins/flot/jquery.flot.tooltip.min.js"></script>
<script src="../js/plugins/flot/jquery.flot.spline.js"></script>
<script src="../js/plugins/flot/jquery.flot.resize.js"></script>
<script src="../js/plugins/flot/jquery.flot.pie.js"></script>
<script src="../js/plugins/flot/jquery.flot.symbol.js"></script>
<script src="../js/plugins/flot/curvedLines.js"></script>

<!-- Peity -->
<script src="../js/plugins/peity/jquery.peity.min.js"></script>
<script src="../js/demo/peity-demo.js"></script>

<!-- Custom and plugin javascript -->
<script src="../js/inspinia.js"></script>
<script src="../js/plugins/pace/pace.min.js"></script>

<!-- jQuery UI -->
<script src="../js/plugins/jquery-ui/jquery-ui.min.js"></script>

<!-- Jvectormap -->
<script src="../js/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
<script src="../js/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>

<!-- Sparkline -->
<script src="../js/plugins/sparkline/jquery.sparkline.min.js"></script>

<!-- Sparkline demo data  -->
<script src="../js/demo/sparkline-demo.js"></script>

<!-- ChartJS-->
<script src="../js/plugins/chartJs/Chart.min.js"></script>


<script>
    console.log('{{dateType}}');
    $(document).ready(function() {
        switch ('{{dateType}}') {
            case 'TO':
                $('#today').prop("checked", true);
                break;
            case 'TW':
                $('#thisWeek').prop("checked", true);
                break;
            case 'LW':
                $('#lastWeek').prop("checked", true);
                break;
            case 'TM':
                $('#thisMonth').prop("checked", true);
                break;
            case 'LM':
                $('#lastMonth').prop("checked", true);
                break;
            case 'AL':
                $('#all').prop("checked", true);
                break;
            default:
                $('#today').prop("checked", true);
                break
        }
    });

    function fnSearch(dateType) {
        location.href = '/?dateType='+dateType;
    }
</script>
